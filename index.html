<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculator</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="calculator-container">
        <div id="display-container">
            <div id="display"></div>
        </div>
        <div class="user-inputs">
            <button class="input" style="order: 17" value="0" onclick="store(this)">0</button>
            <button class="input" style="order: 18" value="." onclick="store(this)">.</button>
            <button class="input" style="order: 19" onclick="equal()">=</button>
            <button class="input" style="order: 20" value="+" onclick="operate(this)">+</button>
            <button class="input" style="order: 13" value="1" onclick="store(this)">1</button>
            <button class="input" style="order: 14" value="2" onclick="store(this)">2</button>
            <button class="input" style="order: 15" value="3" onclick="store(this)">3</button>
            <button class="input" style="order: 16" value="-" onclick="operate(this)">-</button>
            <button class="input" style="order: 9" value="4" onclick="store(this)">4</button>
            <button class="input" style="order: 10" value="5" onclick="store(this)">5</button>
            <button class="input" style="order: 11" value="6" onclick="store(this)">6</button>
            <button class="input" style="order: 12" value="*" onclick="operate(this)">*</button>
            <button class="input" style="order: 5" value="7" onclick="store(this)">7</button>
            <button class="input" style="order: 6" value="8" onclick="store(this)">8</button>
            <button class="input" style="order: 7" value="9" onclick="store(this)">9</button>
            <button class="input" style="order: 8" value="/" onclick="operate(this)">/</button>
            <button class="input" style="order: 1" onclick="placeholder()">PLACEHOLDER</button>
            <button class="input" style="order: 2" onclick="placeholder()">PLACEHOLDER</button>
            <button class="input" style="order: 3" onclick="backspace()">DEL</button>
            <button class="input" style="order: 4" onclick="clearAll()">AC</button>
        </div>
    </div>

    <script>
        let inputA = "";
        let inputB = "";
        let results = "";
        let operator = "";
        let displayText = "";

        function store(buttonObject) {
            let userSelection = buttonObject.value;
            
            if (results == "" && operator == "") {
                inputA += userSelection;
                displayText = inputA;
            } else {
                inputB += userSelection;
                displayText += userSelection;
                console.log(inputB);
            }

            changeDisplay();
        }

        function clearInputs() {
            inputA = "";
            inputB = "";
            operator = "";
        }

        function operate(operation) {
            if (results == "" && operator != "") {
                evaluateInputs();
                displayText = results;
                clearInputs();
            }

            operator = operation.value;
            displayText += operator;
            changeDisplay();
        }

        function equal() {
            if (results == "" && inputB != "") {
                evaluateInputs();
                displayText = results;
                clearInputs();              
            } else if (results != "" && inputB != "") {
                evaluateResults();
                displayText = results;
                clearInputs();
            }

            changeDisplay();
        }

        function evaluateInputs() {
            if (operator == "+") {
                results = parseFloat(inputA) + parseFloat(inputB);
            } else if (operator == "-") {
                results = parseFloat(inputA) - parseFloat(inputB);
            } else if (operator == "*") {
                results = parseFloat(inputA) * parseFloat(inputB);
            } else if (operator == "/") {
                results = parseFloat(inputA) / parseFloat(inputB);
            }
        }

        function evaluateResults() {
            if (operator == "+") {
                results = parseFloat(results) + parseFloat(inputB);
            } else if (operator == "-") {
                results = parseFloat(results) - parseFloat(inputB);
            } else if (operator == "*") {
                results = parseFloat(results) * parseFloat(inputB);
            } else if (operator == "/") {
                results = parseFloat(results) / parseFloat(inputB);
            }
        }

        function changeDisplay() {
            document.getElementById("display").innerHTML = displayText;
        }

        function backspace() {
            if (results == "" && operator == "") {
                inputA = inputA.substr(0, inputA.length - 1);
                displayText = displayText.substr(0, displayText.length - 1);
            } else if (inputB != "") {
                inputB = inputB.substr(0, inputB.length - 1);
                displayText = displayText.substr(0, displayText.length - 1); 
            } else {
                operator = operator.substr(0, operator.length - 1);;
                displayText = displayText.substr(0, displayText.length - 1); //order of deletion is: inputB -> operator -> inputA
            }
            
            changeDisplay();
        }

        function clearAll() {
            inputA = "";
            inputB = "";
            results = "";
            operator = "";
            displayText = "";
            changeDisplay();
        }
        
        //code doesn't work if "results" is chaining multiple operators though
    </script>

</body>
</html>